<div class="cart-products" th:fragment="cart">
    <main class="main-content grid__item medium-up--four-fifths" id="MainContent" role="main">
        <hr class="hr--border-top small--hide">

        <div class="grid">
            <div class="grid__item">
                <h1 class="h2 visually-hidden">Giỏ hàng</h1>
                <form action="/cart" method="post" novalidate class="cart">
                    <table class="responsive-table table--no-border">
                        <thead class="cart__row cart__header-labels small--hide">
                        <th class="text-left cart__table-cell--image">Sản phẩm</th>
                        <th class="text-center cart__table-cell--meta"></th>
                        <th class="text-center cart__table-cell--price">Giá</th>
                        <th class="text-center cart__table-cell--quantity">Số lượng</th>
                        <th class="text-right cart__table-cell--line-price">Tổng tiền</th>
                        </thead>
                        <tbody>
                        <tr th:each="item : ${cart.items}" class="cart__row responsive-table__row">
                            <input hidden="" type="number" name="id" th:value="${item.product.id}">
                            <td class="cart__table-cell--image small--text-center">
                                <a th:href="@{/products/{id}(id=${item.getProduct().getId()})}">
                                    <img class="cart__image"
                                         th:src="@{/images/products/{id}(id=${item.getProduct().getImageUrl()})}">
                                </a>
                            </td>
                            <td class="cart__table-cell--meta small--text-center">
                                <p>
                                    <a  th:text="${item.getProduct().getName()}"></a>
                                </p>
                                <p class="txt--minor">
                                    <a th:href="@{/cart?id={id}(id=${item.getProduct().getId()})}" class="cart__remove">Xóa</a>
                                </p>
                            </td>
                            <td class="cart__table-cell--price medium-up--text-center" data-label="Price">
                                       <span th:text="${item.getProduct().getPrice()}"></span>
                            </td>
                            <td data-label="Quantity" class="medium-up--text-center cart__table-cell--quantity">
                                <label class="visually-hidden" >Số lượng</label>
                                <input class="quantity-selector" type="number" name="quantity" th:value="${item.quantity}" min="0">
                            </td>
                            <td data-label="Total" class="text-right cart__table-cell--line-price">
                                       <span th:text="${item.getProduct().getPrice() * item.quantity}"></span>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <footer class="cart__footer">
                        <div class="grid">
                            <div class="grid__item medium-up--one-half">
                                <label for="CartSpecialInstructions" class="label--block">Ghi chú</label>
                                <textarea name="note" id="CartSpecialInstructions" class="input--block cart__note"></textarea>
                            </div>
                            <div class="grid__item text-center medium-up--one-half medium-up--text-right">
                                <p>
                                    <span class="cart__subtotal-title h3">Số tiền thanh toán</span>
                                    <span class="cart__subtotal h3" th:text="${cart.subtotal}"></span>
                                </p>
                                <p>
                                    <button type="submit" name="update" class="btn btn--secondary update-cart">
                                        <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-update" viewBox="0 0 25 25">
                                            <path d="M22.339 1.386a1.606 1.606 0 0 0-1.743 1.458l-.077.875A12.124 12.124 0 0 0 12.211.456C5.478.456 0 5.933 0 12.666s5.478 12.212 12.211 12.212c4.653 0 8.84-2.587 10.923-6.748a1.606 1.606 0 1 0-2.872-1.438 8.959 8.959 0 0 1-8.051 4.973c-4.962 0-8.999-4.035-8.999-8.998 0-4.961 4.037-8.999 8.999-8.999a8.93 8.93 0 0 1 6.172 2.452l-1.292-.115a1.604 1.604 0 0 0-1.741 1.458 1.605 1.605 0 0 0 1.457 1.742l4.799.426a1.601 1.601 0 0 0 1.742-1.458l.448-5.045a1.607 1.607 0 0 0-1.457-1.742z"/>
                                        </svg>
                                        <span class="icon__fallback-text">Cập nhật giỏ hàng</span>
                                    </button>
                                    <a class="btn btn--secondary" href="/checkout">Thanh toán</a>
                                </p>
                            </div>
                        </div>
                    </footer>
                </form>
            </div>
        </div>
    </main>
</div>